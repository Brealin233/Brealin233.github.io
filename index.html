<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.112.6"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>brealinblog</title><meta name=keywords content="Blog,Portfolio,PaperModX"><meta name=description content="ExampleSite description"><meta name=author content="Me"><link rel=canonical href=https://brealin.com/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c90ce37b18981f885b1cc08faf9cc8c453a1933d0b9e9145780290f37caa9d8f.css integrity="sha256-yQzjexiYH4hbHMCPr5zIxFOhkz0LnpFFeAKQ83yqnY8=" rel="preload stylesheet" as=style><link rel=icon href=https://brealin.com/favicon.ico><link rel=apple-touch-icon href=https://brealin.com/apple-touch-icon.png><link rel=alternate type=application/rss+xml href=https://brealin.com/index.xml><link rel=alternate type=application/json href=https://brealin.com/index.json><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta name=twitter:card content="summary"><meta name=twitter:title content="brealinblog"><meta name=twitter:description content="ExampleSite description"><meta property="og:title" content="brealinblog"><meta property="og:description" content="ExampleSite description"><meta property="og:type" content="website"><meta property="og:url" content="https://brealin.com/"><meta property="og:image" content="https://brealin.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="brealinblog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"brealinblog","url":"https://brealin.com/","description":"ExampleSite description","thumbnailUrl":"https://brealin.com/favicon.ico","sameAs":["https://github.com/Brealin233","https://twitter.com/brealinxx","https://space.bilibili.com/84338778","https://t.me/brealin","http://localhost:1313/index.xml"]}</script><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary-bg:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list-page{background:var(--theme)}.list-page:not(.dark)::-webkit-scrollbar-track{background:0 0}.list-page:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript></head><body class="list-page type-page kind-home layout-" id=top><script data-no-instant>function switchTheme(e){switch(e){case"light":document.body.classList.remove("dark");break;case"dark":document.body.classList.add("dark");break;default:window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")}}function isDarkTheme(){return document.body.className.includes("dark")}function getPrefTheme(){return localStorage.getItem("pref-theme")}function setPrefTheme(e){switchTheme(e),localStorage.setItem("pref-theme",e)}const toggleThemeCallbacks={};toggleThemeCallbacks.main=e=>{setPrefTheme(e?"light":"dark")},window.addEventListener("toggle-theme",function(){const e=isDarkTheme();for(const t in toggleThemeCallbacks)toggleThemeCallbacks[t](e)});function toggleThemeListener(){window.dispatchEvent(new CustomEvent("toggle-theme"))}</script><script>(function(){const t="auto",e=getPrefTheme(),n=e||t;switchTheme(n)})()</script><header class=header><nav class=nav><div class=logo><a href=https://brealin.com/ accesskey=h title="brealinblog (Alt + H)">brealinblog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://brealin.com/tags/ title=Tags>Tags</a></li><li><a href=https://brealin.com/archives/ title=Archive>Archive</a></li><li><a href=https://brealin.com/search/ title="Search (Alt + /)" data-no-instant accesskey=/>Search</a></li><li><a href=https://brealinhub.com/ title=@brealin target=_blank>@brealin<span class=external-link><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-external-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M11 7H6A2 2 0 004 9v9a2 2 0 002 2h9a2 2 0 002-2v-5"/><line x1="10" y1="14" x2="20" y2="4"/><polyline points="15 4 20 4 20 9"/></svg></span></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>Love, Immersion, Creation, Discovery, Luck, Persistence.</h1></header><section class=entry-content><p>Hey, I'm <span class=mark-line>费国庆</span>, AKA <span class=mark-line>冰零</span>, <span class=mark-line>brealin</span></p><p>Now mainly devoted to the study of <b>game development,</b></p><p>Thanks for you found this place, I hope something here can help you a little.</p><p>The following content can also find me.</p></section><footer class=entry-footer><div class=social-icons><a href=https://github.com/Brealin233 target=_blank rel="noopener noreferrer me" title=Github><svg fill="#000" width="800" height="800" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1"><path d="M12 2.2467A10.00042 10.00042.0 008.83752 21.73419c.5.08752.6875-.21247.6875-.475.0-.23749-.01251-1.025-.01251-1.86249C7 19.85919 6.35 18.78423 6.15 18.22173A3.636 3.636.0 005.125 16.8092c-.35-.1875-.85-.65-.01251-.66248A2.00117 2.00117.0 016.65 17.17169a2.13742 2.13742.0 002.91248.825A2.10376 2.10376.0 0110.2 16.65923c-2.225-.25-4.55-1.11254-4.55-4.9375a3.89187 3.89187.0 011.025-2.6875 3.59373 3.59373.0 01.1-2.65s.83747-.26251 2.75 1.025a9.42747 9.42747.0 015 0c1.91248-1.3 2.75-1.025 2.75-1.025a3.59323 3.59323.0 01.1 2.65 3.869 3.869.0 011.025 2.6875c0 3.83747-2.33752 4.6875-4.5625 4.9375a2.36814 2.36814.0 01.675 1.85c0 1.33752-.01251 2.41248-.01251 2.75.0.26251.1875.575.6875.475A10.0053 10.0053.0 0012 2.2467z"/></svg></a><a href=https://twitter.com/brealinxx target=_blank rel="noopener noreferrer me" title=Twitter><svg width="800" height="800" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="none"><path fill="#1d9bf0" d="M13.567 5.144c.008.123.008.247.008.371.0 3.796-2.889 8.173-8.172 8.173v-.002A8.131 8.131.0 011 12.398a5.768 5.768.0 004.25-1.19A2.876 2.876.0 012.567 9.213c.431.083.875.066 1.297-.05A2.873 2.873.0 011.56 6.348v-.036c.4.222.847.345 1.304.36a2.876 2.876.0 01-.89-3.836 8.152 8.152.0 005.92 3 2.874 2.874.0 014.895-2.619 5.763 5.763.0 001.824-.697 2.883 2.883.0 01-1.262 1.588A5.712 5.712.0 0015 3.656a5.834 5.834.0 01-1.433 1.488z"/></svg></a><a href=https://space.bilibili.com/84338778 target=_blank rel="noopener noreferrer me" title=Bilibili><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"/><path fill="#06aeec" path d="M18.223 3.086a1.25 1.25.0 010 1.768L17.08 5.996h1.17A3.75 3.75.0 0122 9.747v7.5a3.75 3.75.0 01-3.75 3.75H5.75A3.75 3.75.0 012 17.247v-7.5a3.75 3.75.0 013.75-3.75h1.166L5.775 4.855a1.25 1.25.0 111.767-1.768l2.652 2.652c.079.079.145.165.198.257h3.213c.053-.092.12-.18.199-.258l2.651-2.652a1.25 1.25.0 011.768.0zm.027 5.42H5.75A1.25 1.25.0 004.503 9.663l-.003.094v7.5c0 .659.51 1.199 1.157 1.246l.093.004h12.5a1.25 1.25.0 001.247-1.157l.003-.093v-7.5c0-.69-.56-1.25-1.25-1.25zm-10 2.5c.69.0 1.25.56 1.25 1.25v1.25a1.25 1.25.0 11-2.5.0v-1.25c0-.69.56-1.25 1.25-1.25zm7.5.0c.69.0 1.25.56 1.25 1.25v1.25a1.25 1.25.0 11-2.5.0v-1.25c0-.69.56-1.25 1.25-1.25z"/></g></svg></a><a href=https://t.me/brealin target=_blank rel="noopener noreferrer me" title=Telegram><svg width="100" height="100" viewBox="5 0 90 100" style="enable-background:new 0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><style>.st0{fill:#fff}.st1{fill:#f5bb41}.st2{fill:#2167d1}.st3{fill:#3d84f3}.st4{fill:#4ca853}.st5{fill:#398039}.st6{fill:#d74f3f}.st7{fill:#d43c89}.st8{fill:#b2005f}.st9{fill:none;stroke:#000;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.st10{fill-rule:evenodd;clip-rule:evenodd;fill:none;stroke:#000;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.st11{fill-rule:evenodd;clip-rule:evenodd;fill:none;stroke:#040404;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.st12{fill-rule:evenodd;clip-rule:evenodd}.st13{fill-rule:evenodd;clip-rule:evenodd;fill:#040404}.st14{fill:url(#SVGID_1_)}.st15{fill:url(#SVGID_2_)}.st16{fill:url(#SVGID_3_)}.st17{fill:url(#SVGID_4_)}.st18{fill:url(#SVGID_5_)}.st19{fill:url(#SVGID_6_)}.st20{fill:url(#SVGID_7_)}.st21{fill:url(#SVGID_8_)}.st22{fill:url(#SVGID_9_)}.st23{fill:url(#SVGID_10_)}.st24{fill:url(#SVGID_11_)}.st25{fill:url(#SVGID_12_)}.st26{fill:url(#SVGID_13_)}.st27{fill:url(#SVGID_14_)}.st28{fill:url(#SVGID_15_)}.st29{fill:url(#SVGID_16_)}.st30{fill:url(#SVGID_17_)}.st31{fill:url(#SVGID_18_)}.st32{fill:url(#SVGID_19_)}.st33{fill:url(#SVGID_20_)}.st34{fill:url(#SVGID_21_)}.st35{fill:url(#SVGID_22_)}.st36{fill:url(#SVGID_23_)}.st37{fill:url(#SVGID_24_)}.st38{fill:url(#SVGID_25_)}.st39{fill:url(#SVGID_26_)}.st40{fill:url(#SVGID_27_)}.st41{fill:url(#SVGID_28_)}.st42{fill:url(#SVGID_29_)}.st43{fill:url(#SVGID_30_)}.st44{fill:url(#SVGID_31_)}.st45{fill:url(#SVGID_32_)}.st46{fill:url(#SVGID_33_)}.st47{fill:url(#SVGID_34_)}.st48{fill:url(#SVGID_35_)}.st49{fill:url(#SVGID_36_)}.st50{fill:url(#SVGID_37_)}.st51{fill:url(#SVGID_38_)}.st52{fill:url(#SVGID_39_)}.st53{fill:url(#SVGID_40_)}.st54{fill:url(#SVGID_41_)}.st55{fill:url(#SVGID_42_)}.st56{fill:url(#SVGID_43_)}.st57{fill:url(#SVGID_44_)}.st58{fill:url(#SVGID_45_)}.st59{fill:#040404}.st60{fill:url(#SVGID_46_)}.st61{fill:url(#SVGID_47_)}.st62{fill:url(#SVGID_48_)}.st63{fill:url(#SVGID_49_)}.st64{fill:url(#SVGID_50_)}.st65{fill:url(#SVGID_51_)}.st66{fill:url(#SVGID_52_)}.st67{fill:url(#SVGID_53_)}.st68{fill:url(#SVGID_54_)}.st69{fill:url(#SVGID_55_)}.st70{fill:url(#SVGID_56_)}.st71{fill:url(#SVGID_57_)}.st72{fill:url(#SVGID_58_)}.st73{fill:url(#SVGID_59_)}.st74{fill:url(#SVGID_60_)}.st75{fill:url(#SVGID_61_)}.st76{fill:url(#SVGID_62_)}.st77{fill:none;stroke:#000;stroke-width:3;stroke-miterlimit:10}.st78{fill:none;stroke:#fff;stroke-miterlimit:10}.st79{fill:#4bc9ff}.st80{fill:#50d}.st81{fill:#ff3a00}.st82{fill:#e6162d}.st83{fill:#f1f1f1}.st84{fill:#f93}.st85{fill:#b92b27}.st86{fill:#00aced}.st87{fill:#bd2125}.st88{fill:#1877f2}.st89{fill:#6665d2}.st90{fill:#ce3056}.st91{fill:#5bb381}.st92{fill:#61c3ec}.st93{fill:#e4b34b}.st94{fill:#181ef2}.st95{fill:red}.st96{fill:#fe466c}.st97{fill:#fa4778}.st98{fill:#f70}.st99{fill-rule:evenodd;clip-rule:evenodd;fill:#1f6bf6}.st100{fill:#520094}.st101{fill:#4477e8}.st102{fill:#3d1d1c}.st103{fill:#ffe812}.st104{fill:#344356}.st105{fill:#00cc76}.st106{fill-rule:evenodd;clip-rule:evenodd;fill:#345e90}.st107{fill:#1f65d8}.st108{fill:#eb3587}.st109{fill-rule:evenodd;clip-rule:evenodd;fill:#603a88}.st110{fill:#e3ce99}.st111{fill:#783af9}.st112{fill:#ff515e}.st113{fill:#ff4906}.st114{fill:#503227}.st115{fill:#4c7bd9}.st116{fill:#69c9d0}.st117{fill:#1b92d1}.st118{fill:#eb4f4a}.st119{fill:#513728}.st120{fill:#f60}.st121{fill-rule:evenodd;clip-rule:evenodd;fill:#b61438}.st122{fill:#fffc00}.st123{fill:#141414}.st124{fill:#94d137}.st125{fill-rule:evenodd;clip-rule:evenodd;fill:#f1f1f1}.st126{fill-rule:evenodd;clip-rule:evenodd;fill:#66e066}.st127{fill:#2d8cff}.st128{fill:#f1a300}.st129{fill:#4ba2f2}.st130{fill:#1a5099}.st131{fill:#ee6060}.st132{fill-rule:evenodd;clip-rule:evenodd;fill:#f48120}.st133{fill:#222}.st134{fill:url(#SVGID_63_)}.st135{fill:#0077b5}.st136{fill:#fc0}.st137{fill:#eb3352}.st138{fill:#f9d265}.st139{fill:#f5b955}.st140{fill:#dd2a7b}.st141{fill:#66e066}.st142{fill:#eb4e00}.st143{fill:#ffc794}.st144{fill:#b5332a}.st145{fill:#4e85eb}.st146{fill:#58a45c}.st147{fill:#f2bc42}.st148{fill:#d85040}.st149{fill:#464eb8}.st150{fill:#7b83eb}</style><g id="Layer_1"/><g id="Layer_2"><g><path class="st117" d="M88.723 12.142C76.419 17.238 23.661 39.091 9.084 45.047c-9.776 3.815-4.053 7.392-4.053 7.392s8.345 2.861 15.499 5.007c7.153 2.146 10.968-.238 10.968-.238l33.62-22.652c11.922-8.107 9.061-1.431 6.199 1.431-6.199 6.2-16.452 15.975-25.036 23.844-3.815 3.338-1.908 6.199-.238 7.63 6.199 5.246 23.129 15.976 24.082 16.691 5.037 3.566 14.945 8.699 16.452-2.146l5.961-37.435c1.908-12.637 3.815-24.321 4.053-27.659C97.307 8.804 88.723 12.142 88.723 12.142z"/></g></g></svg></a><a href=http://localhost:1313/index.xml target=_blank rel="noopener noreferrer me" title=Rss><svg fill="#ff7000" width="800" height="800" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><title>rss</title><path d="M368 448q-2-84-41-153T220 186q-69-41-156-42V64q107 2 194 52T396 253q50 86 52 195H368zm-136 0q-3-75-48-120-46-46-120-48V2e2q69 2 125 34 56 31 89 87 32 55 34 127H232zm-120 0q-20 0-34-14T64 4e2t14-34 34-14 34 14 14 34-14 34-34 14z"/></svg></a></div></footer></article><article class=post-entry><header class=entry-header><h2>一些自定义配置</h2></header><section class=entry-content><p>这段时间从 Hexo 转到了 Hugo，以前用的主题是 fluid 个人觉得离我预期的简洁（外观也很棒，但个人喜欢偏简洁一点的）、性能还是差点1，不过因为它的可配置性非常高也非常容易配置，也是推荐各位去了解一下的
主题配置用的是 hugo.yaml 格式
修改首页 Icon 默认 icon 是很简洁的黑白图像，可以通过更改 svg 达到彩色 icon 需要
在 /&lt;your site name>/hugo.yaml 中配置 socialIcons:
再在位于 /&lt;your site name>/themes/PaperModX/data/svg.toml 更改 svg 属性即可
实例：
twitter = ''' &lt;svg width="800px" height="800px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="none">&lt;path fill="#1D9BF0" d="M13.567 5.144c.008.123.008.247.008.371 0 3.796-2.889 8.173-8.172 8.173v-.002A8.131 8.131 0 011 12.398a5.768 5.768 0 004.25-1.19 2.876 2.876 0 01-2.683-1.995c.431.083.875.066 1.297-.05A2.873 2.873 0 011.56 6.348v-.036c.4.222.847.345 1.304.36a2.876 2.876 0 01-....</p></section><footer class=entry-footer><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select:text"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select:text"/><line x1="16" y1="2" x2="16" y2="6" style="user-select:text"/><line x1="8" y1="2" x2="8" y2="6" style="user-select:text"/><line x1="3" y1="10" x2="21" y2="10" style="user-select:text"/></svg><span>June 8, 2023</span></span></footer><a class=entry-link aria-label="post link to 一些自定义配置" href=https://brealin.com/posts/%E4%B8%80%E4%BA%9B%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE/></a></article><article class=post-entry><header class=entry-header><h2>Unity 性能优化 Chapter3</h2></header><section class=entry-content><p>性能优化问题的本质 慢与快的问题
前提
稳定性：不能因优化造成稳定性变差
兼容性：不能因优化导致兼容性变差
性价比：优化要有度，考虑成本与复杂度
性能优化的流程 发现问题（什么平台、什么操作系统、什么情况下出现问题，一般问题还是特例问题等） 定位问题（什么地方造成的性能问题，我们要用什么工具、什么方法确定瓶颈） 研究问题（确定用什么方案处理这个问题，要考虑性能优化的前提） 解决问题（按问题研究的结论去实际处理，并验证处理结果与预期的一致性） 影响性能的问题 CPU 通常，CPU 渲染时间的最大贡献者是向 GPU 发送渲染命令的成本。渲染命令包括绘制调用（绘制几何形状的命令），以及在绘制几何形状之前更改 GPU 上设置的命令
减少 Unity 渲染的对象数量 考虑减少场景中对象的总数，例如：使用 skybox 来创建遥远几何的效果 执行更严格的剔除，以便 Unity 绘制更少的对象。考虑使用遮挡剔除来防止 Unity 绘制隐藏在其他物体后面的物体，减少相机的远夹平面，以便更远的物体落在其果实之外，或者，对于更细粒度的方法，将物体放入单独的层，并使用 Camera.layerCullDistances 设置每层剔除距离 减少 Unity 渲染每个对象的次数 在适当的情况下，使用 light mapping 来烘焙（预计算）照明和阴影。这增加了构建时间、运行时内存使用和存储空间，但可以提高运行时性能 如果应用程序使用 Forward rendering，请减少影响对象的每像素实时灯光的数量 实时阴影可能是非常资源密集型，因此请谨慎而高效地使用它们 如果应用程序使用反射探针，请确保您优化其使用 GPU 填充率的限制 GPU 试图每帧绘制的像素比它所能处理的要多，如果是这种情况，请考虑以下选项：
识别并减少应用程序中的透支。透支最常见的贡献者是重叠的透明元素，如 UI、粒子和 Sprite，在 Unity 编辑器中，使用 Overdraw Draw模式 来识别有问题的区域 降低片段着色器的执行成本 如果您使用的是 Unity 的内置着色器，请从 Mobile 或 Unlit 类别中选择一个。它们也适用于非移动平台，但它们是更复杂的着色器的简化和近似版本 动态分辨率是一个 Unity 功能，允许您动态缩放单个渲染目标 内存带宽的限制 GPU 正在尝试向其专用内存读取和写入比它在帧中可以处理的更多数据。这通常意味着有太多的纹理，或者纹理太大。如果是这种情况，请考虑以下选项：...</p></section><footer class=entry-footer><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select:text"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select:text"/><line x1="16" y1="2" x2="16" y2="6" style="user-select:text"/><line x1="8" y1="2" x2="8" y2="6" style="user-select:text"/><line x1="3" y1="10" x2="21" y2="10" style="user-select:text"/></svg><span>April 7, 2023</span></span></footer><a class=entry-link aria-label="post link to Unity 性能优化 Chapter3" href=https://brealin.com/posts/unity%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-chapter3/></a></article><article class=post-entry><header class=entry-header><h2>Unity 性能优化 Chapter2</h2></header><section class=entry-content><p>静态优化 Import Unity 工程目录结构及用途 Asset 这是存储所有游戏资源的文件夹，包括脚本、纹理、声音和自定义编辑器脚本。文件夹的组织可能因项目而异，因组织而异。资产文件夹中可以有许多子文件夹，具体取决于项目的组织方式。例如，可能有一个用于场景的文件夹，一个用于脚本，一个用于音频，或者一个用于 Sprite，组织有多深是没有限制的
{% note primary %}
Unity 在 Assets 文件夹下保留了几个特殊文件夹名称。这些文件夹是编辑器、编辑器默认资源、Gizmos、资源、标准资产和流资产，并非每个项目都有所有这些文件夹
Assets / Editor：此文件夹用于扩展 Unity 编辑器功能的自定义编辑器脚本。这些脚本将在编辑器中运行，但在运行时不会在项目中运行。资产文件夹中可以存在多个编辑器文件夹，编辑器脚本的执行方式因编辑器文件在文件夹结构中的位置而异。
Assets / Editor Default Resources： 这是存储编辑器脚本使用的资产文件的地方。只能有一个这样的文件夹，它必须放在资产文件夹根目录中，此文件夹中可能有子文件夹
Assets / Gizmos： Gizmos 是场景视图中的图形，可以帮助可视化设计细节。此文件夹存储用于小发明的图像，只能有一个文件夹，它必须放在资产文件夹根目录中
Assets / Resources：此文件夹存储资源，以便在 Unity 项目中按需加载。可以有多个资源文件夹。按需加载有助于动态加载在设计期间没有设计师创建的实例的游戏对象。换句话说，这些资源在设计时可能没有在场景中放置相应的游戏对象，并在运行时动态加载，但现在都使用 Assets Bundle 构建
Assets / Standard Assets ：此文件夹存储已导入项目的任何标准资产包。脚本编译优先级最高，只能有一个标准资产文件夹。标准资产是由 Unity 维护的免费资产
Assets / Streaming Assets ： 此文件夹用于保留其原始格式的资产，然后流式传输到 Unity 应用程序中，而不是直接将其纳入项目的构建中。一个例子是来自文件系统的视频文件。项目中只能有 1 个流媒体资产文件夹
{% endnote %}
Library 用来存储项目内部资产数据信息的目录，即 Unity 用于导入资产的本地缓存。它可以被删除，并将由 Unity 自动重新生成，重新创建文件夹所需的只是 Assets 文件夹 和 .meta 文件。如果此文件夹被删除，Unity 将重新导入所有资产，并在下次在编辑器中打开项目时重新生成文件夹。此文件夹不应包含在版本控制中，Unity 使用这些导入的资产来节省 Unity 运行时的时间...</p></section><footer class=entry-footer><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select:text"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select:text"/><line x1="16" y1="2" x2="16" y2="6" style="user-select:text"/><line x1="8" y1="2" x2="8" y2="6" style="user-select:text"/><line x1="3" y1="10" x2="21" y2="10" style="user-select:text"/></svg><span>March 31, 2023</span></span></footer><a class=entry-link aria-label="post link to Unity 性能优化 Chapter2" href=https://brealin.com/posts/unity%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-chapter2/></a></article><article class=post-entry><header class=entry-header><h2>Unity 性能优化 Chapter1</h2></header><section class=entry-content><p>前言 观看 bilibili @Metaverse大衍神君 视频记录笔记，是本来作者留下的笔记经整理也有自己不太懂的地方扩展延伸，如有错误还请海涵指正！
环境搭建 使用如下命令拉起测试项目并使用 Unity 打开
git clone https://github.com/lwwhb/Unity2022_SUNTAIL_Stylized_Fantasy_Village_Optimization 个人使用的 2022.1.16 版本打开，会出现一个 com.unity.render-pipelines.universal 的包错误，个人解决方案是在 PackageManage 里删除这个包后，Unity 会自动提示升级材质，点击后会自动安装新版的 URP 包，也会自动配置好渲染管线
{% note warning%} 注意这里我将项目设置为了 URP（SRP） 渲染管线会导致下面无法查看场景 Mipmap 选项，在视频教程中的内置渲染管线（built-in）可以查看 {% endnote %}
打开项目的 Autoconnect Profiler 并在场景加入 DebugCanvas 方便移动设备的调试
关闭移动平台的 VSync Count 选项，以发挥最大性能
{% note primary %}
VSync Count：每帧之间应传递的垂直同步数量 Unity 通过将平台的默认目标帧速率除以 VSyncCount 的值来计算目标帧速率
{% endnote %}
未优化时的性能指标 生成的 Android APK大小 550M 三角形平均面熟 150-200 万，峰值 230 万 渲染批次 1500-1800 次 SetPassCall 200 次以上 小米11 ultra平均 FPS :10 FPS，iPhone XS Max 15FPS 内存 小米 11 ultra 1....</p></section><footer class=entry-footer><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select:text"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select:text"/><line x1="16" y1="2" x2="16" y2="6" style="user-select:text"/><line x1="8" y1="2" x2="8" y2="6" style="user-select:text"/><line x1="3" y1="10" x2="21" y2="10" style="user-select:text"/></svg><span>March 17, 2023</span></span></footer><a class=entry-link aria-label="post link to Unity 性能优化 Chapter1" href=https://brealin.com/posts/unity%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-chapter1/></a></article><article class=post-entry><header class=entry-header><h2>异步</h2></header><section class=entry-content><p>查阅 MSDN 异步编程以了解更多
异步编程 在 C# 中，异步编程是一种编程范式，它允许程序异步执行任务，而不会阻塞主线程或其他任务的执行。在异步程序中，程序可以继续执行其他任务，而无需等待一个任务完成
优势 异步编程可以为需要执行 I/O 操作或其他耗时任务的应用程序提供显著的优势，例如访问数据库、下载文件或执行网络通信。通过使用异步编程，应用程序可以提高性能、响应性、可扩展性和资源效率，同时简化代码并提高容错性
误解 异步编程总是更快：虽然异步编程可以提高性能，但它并不能保证在所有情况下都能提供更快的执行速度，如果一个应用程序没有大量的 I/O 操作或耗时任务，使用异步编程可能不会提供任何性能优势，甚至可能引入不必要的复杂性
异步编程总是优于同步编程：虽然异步编程可以提高应用程序的可扩展性和响应性，但它可能并不总是最好的解决方案。异步编程可能会引入额外的复杂性，而且对于所有的用例可能都不是必需需要的
异步编程可以完全消除对线程的需求：虽然异步编程可以减少显式线程的需求，但它并不能完全消除它。异步编程仍然依赖于底层线程和线程池在后台执行任务
还有并不能完全消除锁和同步的需求、或认为异步容易调试等等
关键字 async 和 await
目标 支持读起来像一连串语句的代码，但会根据外部资源分配和任务完成时间以更复杂的顺序执行
内容 async 用以标记函数的关键字，例如：
public async Task TestAsync(){ } 但仅这还不是真正的异步函数
await 必须在 async 标记下的函数内使用的关键字，例如：
public async Task TestAsync() { await Task.delay(1000); Console.WriteLine("TestDone"); } async 和 await 一起使用才构成了异步函数
如此例所示，await 关键字将暂停 TestAsync 方法的执行，并返回不完整的 Task，在此期间，线程将返回到线程池，以便自己可用于另一个请求，await 完成后将恢复继续向下执行
但是，如何知道 await 已经完成呢？这里就需要用到 Task，可先了解一下此站另一个 blog - 线程
总结 该操作不会在线程池线程运行
如果仅使用 async 关键字，那么函数内容仍会以同步方式进行
一般异步函数命名的最后结尾都是 Async...</p></section><footer class=entry-footer><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select:text"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select:text"/><line x1="16" y1="2" x2="16" y2="6" style="user-select:text"/><line x1="8" y1="2" x2="8" y2="6" style="user-select:text"/><line x1="3" y1="10" x2="21" y2="10" style="user-select:text"/></svg><span>March 6, 2023</span></span></footer><a class=entry-link aria-label="post link to 异步" href=https://brealin.com/posts/%E5%BC%82%E6%AD%A5/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://brealin.com/page/2/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href=https://brealin.com/>brealinblog</a></span><span style=display:inline-block;margin-left:1em>
<a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA</a></span>
<span style=display:inline-block;margin-left:1em>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
    <a href=https://github.com/reorx/hugo-PaperModX/ rel=noopener target=_blank>PaperModX</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script src=https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js></script>
<script>const images=Array.from(document.querySelectorAll(".post-content img"));images.forEach(e=>{mediumZoom(e,{margin:0,scrollOffset:10,container:null,template:null,background:"rgba(0, 0, 0, 0.8)"})})</script><script>(function(){const t=""=="1";if(t)return;let e=document.getElementById("theme-toggle");e.removeEventListener("click",toggleThemeListener),e.addEventListener("click",toggleThemeListener)})()</script><script>(function(){let e=document.getElementById("menu");e&&(e.scrollLeft=localStorage.getItem("menu-scroll-position"),e.onscroll=function(){localStorage.setItem("menu-scroll-position",e.scrollLeft)});const t=""=="1",n=""=="1";if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||t||n)return;document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})})()</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>if(window.scrollListeners)for(const e of scrollListeners)window.removeEventListener("scroll",e);window.scrollListeners=[]</script><script src=/js/medium-zoom.min.js data-no-instant></script></body></html>